{"version":3,"file":"index.js","sources":["../lib/colors.ts","../lib/main.ts"],"sourcesContent":["import { LogColor } from \"../types/types\";\n\nexport const colorCodes: Record<LogColor, string> = {\n  reset: \"\\x1b[0m\",\n  red: \"\\x1b[31m\",\n  green: \"\\x1b[32m\",\n  yellow: \"\\x1b[33m\",\n  blue: \"\\x1b[34m\",\n  magenta: \"\\x1b[35m\",\n  cyan: \"\\x1b[36m\",\n  black: \"\\x1b[30m\",\n\n  // Bright foreground colors\n  brightRed: \"\\x1b[91m\",\n  brightGreen: \"\\x1b[92m\",\n  brightYellow: \"\\x1b[93m\",\n  brightBlue: \"\\x1b[94m\",\n  brightMagenta: \"\\x1b[95m\",\n  brightCyan: \"\\x1b[96m\",\n  brightWhite: \"\\x1b[97m\",\n\n  // Background colors\n  bgRed: \"\\x1b[41m\",\n  bgGreen: \"\\x1b[42m\",\n  bgYellow: \"\\x1b[43m\",\n  bgBlue: \"\\x1b[44m\",\n  bgMagenta: \"\\x1b[45m\",\n  bgCyan: \"\\x1b[46m\",\n  bgWhite: \"\\x1b[47m\",\n  bgBlack: \"\\x1b[40m\",\n\n  // Bright background colors\n  bgBrightRed: \"\\x1b[101m\",\n  bgBrightGreen: \"\\x1b[102m\",\n  bgBrightYellow: \"\\x1b[103m\",\n  bgBrightBlue: \"\\x1b[104m\",\n  bgBrightMagenta: \"\\x1b[105m\",\n  bgBrightCyan: \"\\x1b[106m\",\n  bgBrightWhite: \"\\x1b[107m\",\n};\n","import { colorCodes } from \"./colors\";\nimport { PrintLn } from \"../types/types\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\n\nexport default function println<T>({\n  helper,\n  data,\n  color = \"reset\",\n  showFunctionOrigin = true,\n  writeToFile = false,\n}: PrintLn<T>) {\n  const formattedLog = JSON.stringify(data, null, 2);\n\n  const stack = new Error().stack?.split(\"\\n\");\n  const callerInfo = stack ? stack[2] : \"unknown\";\n\n  const match = callerInfo.match(/at (\\S+) \\(([^)]+)\\)/);\n  const callerFunctionName = match ? match[1] : undefined;\n  const callerFilePath = match ? match[2].split(\":\")[0] : undefined;\n  const callerFileName = callerFilePath\n    ? path.basename(callerFilePath)\n    : undefined;\n\n  const colorCode = colorCodes[color];\n\n  const logMessage = showFunctionOrigin\n    ? callerFunctionName\n      ? `${colorCode}${helper} (called from function: ${callerFunctionName} ${\n          callerFileName && `in ${callerFileName}`\n        }) =>\\n${colorCode}${formattedLog}${colorCodes.reset}`\n      : `${colorCode}${helper} ${\n          callerFileName && `(called from ${callerFileName}`\n        } ) =>\\n${colorCode}${formattedLog}${colorCodes.reset}`\n    : `${colorCode}${helper} =>\\n${colorCode}${formattedLog}${colorCodes.reset}`;\n\n  console.log(logMessage);\n\n  if (writeToFile) {\n    const logFilePath = path.join(__dirname, \"app_logs.txt\");\n\n    const plainLogMessage = showFunctionOrigin\n      ? callerFunctionName\n        ? `${helper} (called from function: ${callerFunctionName} ${\n            callerFileName && `in ${callerFileName}`\n          }) =>\\n${formattedLog}\\n`\n        : `${helper} (called from ${callerFileName}) =>\\n${formattedLog}\\n\\n`\n      : `${helper} =>\\n${formattedLog}\\n\\n`;\n\n    fs.appendFileSync(logFilePath, plainLogMessage, { encoding: \"utf-8\" });\n  }\n}\n"],"names":["colorCodes","reset","red","green","yellow","blue","magenta","cyan","black","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlack","bgBrightRed","bgBrightGreen","bgBrightYellow","bgBrightBlue","bgBrightMagenta","bgBrightCyan","bgBrightWhite","_a","helper","data","_c","color","_d","showFunctionOrigin","_e","writeToFile","formattedLog","JSON","stringify","stack","_b","Error","split","match","callerFunctionName","undefined","callerFilePath","callerFileName","path","basename","colorCode","logMessage","concat","console","log","logFilePath","join","__dirname","plainLogMessage","fs","appendFileSync","encoding"],"mappings":"wUAEaA,EAAuC,CAClDC,MAAO,OACPC,IAAK,QACLC,MAAO,QACPC,OAAQ,QACRC,KAAM,QACNC,QAAS,QACTC,KAAM,QACNC,MAAO,QAGPC,UAAW,QACXC,YAAa,QACbC,aAAc,QACdC,WAAY,QACZC,cAAe,QACfC,WAAY,QACZC,YAAa,QAGbC,MAAO,QACPC,QAAS,QACTC,SAAU,QACVC,OAAQ,QACRC,UAAW,QACXC,OAAQ,QACRC,QAAS,QACTC,QAAS,QAGTC,YAAa,SACbC,cAAe,SACfC,eAAgB,SAChBC,aAAc,SACdC,gBAAiB,SACjBC,aAAc,SACdC,cAAe,0BCjCO,SAAWC,SACjCC,EAAMD,EAAAC,OACNC,EAAIF,EAAAE,KACJC,UAAAC,OAAQ,IAAAD,EAAA,QAAOA,EACfE,uBAAAC,OAAqB,IAAAD,GAAIA,EACzBE,gBAAAC,OAAc,IAAAD,GAAKA,EAEbE,EAAeC,KAAKC,UAAUT,EAAM,KAAM,GAE1CU,EAA2B,QAAnBC,GAAA,IAAIC,OAAQF,aAAO,IAAAC,OAAA,EAAAA,EAAAE,MAAM,MAGjCC,GAFaJ,EAAQA,EAAM,GAAK,WAEbI,MAAM,wBACzBC,EAAqBD,EAAQA,EAAM,QAAKE,EACxCC,EAAiBH,EAAQA,EAAM,GAAGD,MAAM,KAAK,QAAKG,EAClDE,EAAiBD,EACnBE,EAAKC,SAASH,QACdD,EAEEK,EAAYtD,EAAWmC,GAEvBoB,EAAalB,EACfW,EACE,UAAGM,GAASE,OAAGxB,EAAiC,4BAAAwB,OAAAR,cAC9CG,GAAkB,aAAMA,oBACjBG,GAASE,OAAGhB,GAAegB,OAAAxD,EAAWC,OAC/C,GAAGuD,OAAAF,UAAYtB,EAAM,KAAAwB,OACnBL,GAAkB,gBAAAK,OAAgBL,GAAgB,WAAAK,OAC1CF,GAAYE,OAAAhB,UAAexC,EAAWC,OAClD,GAAAuD,OAAGF,GAASE,OAAGxB,EAAc,SAAAwB,OAAAF,GAAYE,OAAAhB,GAAegB,OAAAxD,EAAWC,OAIvE,GAFAwD,QAAQC,IAAIH,GAERhB,EAAa,CACf,IAAMoB,EAAcP,EAAKQ,KAAKC,UAAW,gBAEnCC,EAAkBzB,EACpBW,EACE,GAAAQ,OAAGxB,EAAM,4BAAAwB,OAA2BR,EAAkB,KAAAQ,OACpDL,GAAkB,MAAMK,OAAAL,GAAgB,UAAAK,OACjChB,EAAgB,MACzB,GAAGgB,OAAAxB,2BAAuBmB,EAAc,UAAAK,OAAShB,EAAkB,QACrE,GAAGgB,OAAAxB,EAAc,SAAAwB,OAAAhB,UAErBuB,EAAGC,eAAeL,EAAaG,EAAiB,CAAEG,SAAU,SAC7D,CACH"}